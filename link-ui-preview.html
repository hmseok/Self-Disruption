<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ê±°ë˜ ì—°ê²° UI ë°©ì‹ ë¹„êµ í”„ë¡œí† íƒ€ì…</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: -apple-system, 'Pretendard', sans-serif; background: #f1f5f9; color: #0f172a; }

  /* Tab Navigation */
  .tab-nav { position: sticky; top: 0; z-index: 100; background: #0f172a; display: flex; gap: 0; padding: 0; }
  .tab-btn {
    flex: 1; padding: 16px 12px; text-align: center; cursor: pointer; border: none; background: transparent;
    color: #94a3b8; font-size: 13px; font-weight: 700; transition: all 0.2s; border-bottom: 3px solid transparent;
  }
  .tab-btn.active { color: #fff; border-bottom-color: #3b82f6; background: rgba(59,130,246,0.1); }
  .tab-btn:hover { color: #e2e8f0; }
  .tab-btn .num { display: inline-flex; width: 22px; height: 22px; border-radius: 50%; background: #334155; color: #94a3b8; font-size: 11px; align-items: center; justify-content: center; margin-right: 6px; }
  .tab-btn.active .num { background: #3b82f6; color: #fff; }

  .tab-content { display: none; padding: 24px; max-width: 1200px; margin: 0 auto; }
  .tab-content.active { display: block; }

  .option-title { font-size: 20px; font-weight: 900; margin-bottom: 4px; }
  .option-desc { font-size: 13px; color: #64748b; margin-bottom: 20px; line-height: 1.6; }
  .pros-cons { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 24px; }
  .pro, .con { padding: 12px 16px; border-radius: 12px; font-size: 12px; line-height: 1.6; }
  .pro { background: #f0fdf4; border: 1px solid #bbf7d0; color: #166534; }
  .con { background: #fef2f2; border: 1px solid #fecaca; color: #991b1b; }
  .pro::before { content: 'âœ… ì¥ì '; display: block; font-weight: 800; margin-bottom: 4px; }
  .con::before { content: 'âš ï¸ ë‹¨ì '; display: block; font-weight: 800; margin-bottom: 4px; }

  /* Demo Area */
  .demo-area { background: #fff; border-radius: 16px; border: 1px solid #e2e8f0; overflow: hidden; }
  .demo-header { background: #f8fafc; padding: 12px 20px; border-bottom: 1px solid #e2e8f0; display: flex; align-items: center; gap: 8px; }
  .demo-header span { font-size: 12px; font-weight: 700; color: #64748b; }
  .demo-dot { width: 8px; height: 8px; border-radius: 50%; }

  /* Transaction Row */
  .tx-row {
    display: flex; align-items: center; padding: 12px 20px; border-bottom: 1px solid #f1f5f9;
    gap: 10px; cursor: pointer; transition: background 0.15s;
  }
  .tx-row:hover { background: #f8fafc; }
  .tx-row.selected { background: #eff6ff; }
  .tx-check { width: 16px; height: 16px; accent-color: #0f172a; cursor: pointer; flex-shrink: 0; }
  .tx-date { font-size: 11px; color: #94a3b8; width: 75px; flex-shrink: 0; }
  .tx-badge { font-size: 10px; font-weight: 700; padding: 2px 6px; border-radius: 4px; flex-shrink: 0; }
  .tx-badge.out { background: #fef2f2; color: #ef4444; }
  .tx-badge.in { background: #eff6ff; color: #3b82f6; }
  .tx-badge.card { background: #f1f5f9; color: #64748b; }
  .tx-name { font-weight: 700; font-size: 13px; flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
  .tx-desc { font-size: 11px; color: #94a3b8; flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
  .tx-amount { font-weight: 800; font-size: 13px; color: #ef4444; width: 90px; text-align: right; flex-shrink: 0; }
  .tx-amount.income { color: #3b82f6; }

  /* Link badge */
  .link-badge {
    display: inline-flex; align-items: center; gap: 4px; padding: 3px 8px; border-radius: 6px;
    font-size: 10px; font-weight: 700; cursor: pointer; transition: all 0.15s; flex-shrink: 0;
  }
  .link-badge.car { background: #eff6ff; color: #2563eb; border: 1px solid #bfdbfe; }
  .link-badge.jiip { background: #f5f3ff; color: #7c3aed; border: 1px solid #ddd6fe; }
  .link-badge.invest { background: #f0fdf4; color: #16a34a; border: 1px solid #bbf7d0; }
  .link-badge.empty { background: #f8fafc; color: #94a3b8; border: 1px dashed #cbd5e1; }
  .link-badge:hover { filter: brightness(0.95); transform: scale(1.02); }

  /* Link Button */
  .link-btn {
    width: 28px; height: 28px; border-radius: 8px; border: 1px dashed #cbd5e1; background: #f8fafc;
    display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 14px;
    transition: all 0.15s; flex-shrink: 0;
  }
  .link-btn:hover { background: #eff6ff; border-color: #3b82f6; border-style: solid; }

  /* â”€â”€ Option 1: Slide Panel â”€â”€ */
  .panel-container { display: flex; height: 500px; }
  .panel-left { flex: 1; overflow-y: auto; }
  .panel-right {
    width: 0; overflow: hidden; transition: width 0.3s ease; background: #f8fafc;
    border-left: 1px solid #e2e8f0;
  }
  .panel-right.open { width: 320px; }
  .panel-right-inner { width: 320px; padding: 20px; overflow-y: auto; height: 100%; }
  .panel-section-title { font-size: 11px; font-weight: 800; color: #94a3b8; text-transform: uppercase; letter-spacing: 1px; margin: 16px 0 8px; }
  .panel-card {
    padding: 12px; border-radius: 12px; background: #fff; border: 1.5px solid #e2e8f0;
    margin-bottom: 8px; cursor: pointer; transition: all 0.15s;
  }
  .panel-card:hover { border-color: #3b82f6; background: #f0f9ff; }
  .panel-card.connected { border-color: #10b981; background: #f0fdf4; }
  .panel-card-row { display: flex; align-items: center; gap: 8px; }
  .panel-card-icon { font-size: 20px; }
  .panel-card-name { font-weight: 800; font-size: 13px; }
  .panel-card-sub { font-size: 11px; color: #64748b; margin-top: 2px; }
  .panel-card-check { margin-left: auto; font-size: 16px; color: #10b981; display: none; }
  .panel-card.connected .panel-card-check { display: block; }
  .panel-tx-detail { background: #fff; border-radius: 12px; padding: 14px; border: 1px solid #e2e8f0; margin-bottom: 16px; }
  .panel-tx-detail .label { font-size: 10px; color: #94a3b8; font-weight: 600; }
  .panel-tx-detail .value { font-size: 13px; font-weight: 700; margin-top: 2px; }

  /* â”€â”€ Option 2: Popover â”€â”€ */
  .popover-wrap { position: relative; display: inline-flex; }
  .popover {
    position: absolute; top: 100%; right: 0; margin-top: 4px; width: 280px;
    background: #fff; border-radius: 14px; box-shadow: 0 12px 40px rgba(0,0,0,0.15);
    border: 1px solid #e2e8f0; z-index: 50; overflow: hidden;
    transform: scale(0.95); opacity: 0; pointer-events: none; transition: all 0.15s;
  }
  .popover.open { transform: scale(1); opacity: 1; pointer-events: all; }
  .popover-tabs { display: flex; background: #f8fafc; border-bottom: 1px solid #e2e8f0; }
  .popover-tab {
    flex: 1; padding: 10px 8px; text-align: center; font-size: 11px; font-weight: 700;
    cursor: pointer; border: none; background: transparent; color: #94a3b8;
    border-bottom: 2px solid transparent; transition: all 0.15s;
  }
  .popover-tab.active { color: #0f172a; border-bottom-color: #0f172a; background: #fff; }
  .popover-list { max-height: 200px; overflow-y: auto; padding: 8px; }
  .popover-item {
    display: flex; align-items: center; gap: 8px; padding: 8px 10px; border-radius: 8px;
    cursor: pointer; transition: background 0.1s; font-size: 12px;
  }
  .popover-item:hover { background: #f1f5f9; }
  .popover-item .icon { font-size: 16px; }
  .popover-item .name { font-weight: 700; }
  .popover-item .sub { font-size: 10px; color: #94a3b8; }
  .popover-search {
    width: 100%; border: none; border-bottom: 1px solid #e2e8f0; padding: 10px 12px;
    font-size: 12px; outline: none; background: #fafbfc;
  }

  /* â”€â”€ Option 3: Batch Modal â”€â”€ */
  .modal-overlay {
    display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.4); z-index: 200; align-items: center; justify-content: center;
    backdrop-filter: blur(4px);
  }
  .modal-overlay.open { display: flex; }
  .modal-box {
    background: #fff; border-radius: 20px; width: 480px; max-height: 80vh;
    overflow-y: auto; box-shadow: 0 24px 80px rgba(0,0,0,0.2); padding: 0;
  }
  .modal-header { padding: 20px 24px; border-bottom: 1px solid #f1f5f9; }
  .modal-header h3 { font-size: 16px; font-weight: 900; }
  .modal-header p { font-size: 12px; color: #64748b; margin-top: 4px; }
  .modal-body { padding: 16px 24px; }
  .modal-footer { padding: 16px 24px; border-top: 1px solid #f1f5f9; display: flex; justify-content: flex-end; gap: 8px; }
  .modal-footer button { padding: 10px 20px; border-radius: 10px; font-weight: 800; font-size: 13px; cursor: pointer; border: none; }
  .modal-footer .cancel { background: #f1f5f9; color: #64748b; }
  .modal-footer .confirm { background: #0f172a; color: #fff; }
  .batch-type-tabs { display: flex; gap: 6px; margin-bottom: 16px; flex-wrap: wrap; }
  .batch-type-tab {
    padding: 8px 14px; border-radius: 10px; font-size: 12px; font-weight: 700;
    cursor: pointer; border: 1.5px solid #e2e8f0; background: #fff; color: #64748b; transition: all 0.15s;
  }
  .batch-type-tab.active { border-color: #0f172a; background: #0f172a; color: #fff; }
  .batch-card-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
  .batch-card {
    padding: 14px; border-radius: 12px; border: 1.5px solid #e2e8f0; cursor: pointer;
    transition: all 0.15s; background: #fff;
  }
  .batch-card:hover { border-color: #3b82f6; }
  .batch-card.selected { border-color: #10b981; background: #f0fdf4; }
  .batch-card .icon { font-size: 22px; margin-bottom: 6px; }
  .batch-card .name { font-weight: 800; font-size: 13px; }
  .batch-card .sub { font-size: 11px; color: #64748b; margin-top: 2px; }
  .ai-suggest {
    background: linear-gradient(135deg, #eff6ff, #f0fdf4); border: 1px solid #bfdbfe;
    border-radius: 12px; padding: 12px 16px; margin-bottom: 16px;
  }
  .ai-suggest .title { font-size: 11px; font-weight: 800; color: #2563eb; margin-bottom: 6px; }
  .ai-suggest .item { display: flex; align-items: center; gap: 8px; font-size: 12px; padding: 4px 0; }

  /* â”€â”€ Option 4: Combined â”€â”€ */
  .floating-bar {
    position: sticky; bottom: 0; background: #0f172a; color: #fff; padding: 12px 20px;
    display: flex; align-items: center; gap: 12px; border-top: 1px solid #334155;
  }
  .floating-bar .count { font-weight: 800; font-size: 13px; white-space: nowrap; }
  .floating-bar .sep { width: 1px; height: 20px; background: #334155; }
  .floating-bar button {
    padding: 8px 16px; border-radius: 8px; font-weight: 800; font-size: 12px;
    border: none; cursor: pointer; white-space: nowrap;
  }
  .floating-bar .btn-link { background: #3b82f6; color: #fff; }
  .floating-bar .btn-confirm { background: #10b981; color: #fff; }
  .floating-bar .btn-close { background: none; border: none; color: #64748b; cursor: pointer; font-size: 16px; margin-left: auto; }
</style>
</head>
<body>

<!-- Tab Navigation -->
<nav class="tab-nav">
  <button class="tab-btn active" onclick="showTab(1)"><span class="num">1</span>ìŠ¬ë¼ì´ë“œ íŒ¨ë„</button>
  <button class="tab-btn" onclick="showTab(2)"><span class="num">2</span>ì¸ë¼ì¸ íŒì˜¤ë²„</button>
  <button class="tab-btn" onclick="showTab(3)"><span class="num">3</span>ì¼ê´„ ì—°ê²° ëª¨ë‹¬</button>
  <button class="tab-btn" onclick="showTab(4)"><span class="num">4</span>2+3 ì¡°í•©</button>
</nav>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Option 1: Slide Panel â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="tab1" class="tab-content active">
  <h2 class="option-title">ë°©ì‹ 1: í–‰ í´ë¦­ â†’ ìŠ¬ë¼ì´ë“œ íŒ¨ë„</h2>
  <p class="option-desc">ê±°ë˜ í–‰ì„ í´ë¦­í•˜ë©´ ìš°ì¸¡ì—ì„œ ìƒì„¸ íŒ¨ë„ì´ ìŠ¬ë¼ì´ë“œë˜ë©°, ì°¨ëŸ‰Â·ì§€ì…Â·íˆ¬ìì ì—°ê²°ì„ ì¹´ë“œí˜• UIë¡œ ì„ íƒí•©ë‹ˆë‹¤.</p>
  <div class="pros-cons">
    <div class="pro">ë„“ì€ ê³µê°„ì—ì„œ ìƒì„¸ ì •ë³´ í™•ì¸ ê°€ëŠ¥<br>í˜„ì¬ ì—°ê²° ìƒíƒœ í•œëˆˆì— íŒŒì•…<br>ì—¬ëŸ¬ ì •ë³´ë¥¼ ë™ì‹œì— ë¹„êµ</div>
    <div class="con">í™”ë©´ ì ˆë°˜ì„ ì°¨ì§€í•´ì„œ ëª©ë¡ì´ ì¢ì•„ì§<br>ëª¨ë°”ì¼ì—ì„œëŠ” ì „ì²´ í™”ë©´ ì°¨ì§€<br>í•œ ê±´ì”©ë§Œ ì²˜ë¦¬ ê°€ëŠ¥</div>
  </div>
  <div class="demo-area">
    <div class="demo-header">
      <div class="demo-dot" style="background:#ef4444"></div>
      <div class="demo-dot" style="background:#fbbf24"></div>
      <div class="demo-dot" style="background:#22c55e"></div>
      <span>ê±°ë˜ë¥¼ í´ë¦­í•´ ë³´ì„¸ìš” â†’</span>
    </div>
    <div class="panel-container">
      <div class="panel-left">
        <div class="tx-row" onclick="openPanel(this, 0)">
          <input type="checkbox" class="tx-check">
          <span class="tx-date">2025-10-31</span>
          <span class="tx-badge out">ì¶œê¸ˆ</span>
          <span class="tx-badge card">ì¹´ë“œ</span>
          <span class="tx-name">ìš°ë¦¬ìœ í†µ ì—¬ì‹ (ì‚¼)ì¶©ì „ì†Œ</span>
          <span class="tx-desc">ì¼ì‹œë¶ˆ</span>
          <span class="tx-amount">-52,637</span>
        </div>
        <div class="tx-row" onclick="openPanel(this, 1)">
          <input type="checkbox" class="tx-check">
          <span class="tx-date">2025-10-30</span>
          <span class="tx-badge out">ì¶œê¸ˆ</span>
          <span class="tx-badge card">ì¹´ë“œ</span>
          <span class="tx-name">ì£¼ì‹íšŒì‚¬ë¯¸ì„±ì—ë„ˆì§€</span>
          <span class="tx-desc">ì¼ì‹œë¶ˆ</span>
          <span class="tx-amount">-37,675</span>
        </div>
        <div class="tx-row" onclick="openPanel(this, 2)">
          <input type="checkbox" class="tx-check">
          <span class="tx-date">2025-10-29</span>
          <span class="tx-badge out">ì¶œê¸ˆ</span>
          <span class="tx-badge card">ì¹´ë“œ</span>
          <span class="tx-name">ëŒ€ëª…LPGì¶©ì „ì†Œ</span>
          <span class="tx-desc">ì¼ì‹œë¶ˆ</span>
          <span class="tx-amount">-61,665</span>
        </div>
        <div class="tx-row" onclick="openPanel(this, 3)">
          <input type="checkbox" class="tx-check">
          <span class="tx-date">2025-10-28</span>
          <span class="tx-badge in">ì…ê¸ˆ</span>
          <span class="tx-badge card">ì´ì²´</span>
          <span class="tx-name">ê¹€ì¤€ìˆ˜</span>
          <span class="tx-desc">íˆ¬ìì›ê¸ˆ ì…ê¸ˆ</span>
          <span class="tx-amount income">+5,000,000</span>
        </div>
        <div class="tx-row" onclick="openPanel(this, 4)">
          <input type="checkbox" class="tx-check">
          <span class="tx-date">2025-10-25</span>
          <span class="tx-badge out">ì¶œê¸ˆ</span>
          <span class="tx-badge card">ì´ì²´</span>
          <span class="tx-name">DBì†í•´ë³´í—˜</span>
          <span class="tx-desc">ìë™ì°¨ë³´í—˜ë£Œ</span>
          <span class="tx-amount">-890,000</span>
        </div>
        <div class="tx-row" onclick="openPanel(this, 5)">
          <input type="checkbox" class="tx-check">
          <span class="tx-date">2025-10-20</span>
          <span class="tx-badge out">ì¶œê¸ˆ</span>
          <span class="tx-badge card">ì´ì²´</span>
          <span class="tx-name">ë°•ì˜í¬</span>
          <span class="tx-desc">ì§€ì… ìˆ˜ìµë°°ë¶„ê¸ˆ</span>
          <span class="tx-amount">-2,300,000</span>
        </div>
      </div>
      <div id="panel1" class="panel-right">
        <div class="panel-right-inner">
          <div id="panel1-content"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Option 2: Inline Popover â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="tab2" class="tab-content">
  <h2 class="option-title">ë°©ì‹ 2: ì¸ë¼ì¸ ğŸ”— ë²„íŠ¼ + íŒì˜¤ë²„</h2>
  <p class="option-desc">ê° ê±°ë˜ í–‰ì— ì‘ì€ ğŸ”— ì•„ì´ì½˜ì´ ìˆê³ , í´ë¦­í•˜ë©´ í•´ë‹¹ ìœ„ì¹˜ì— íƒ­í˜• íŒì˜¤ë²„ê°€ ë– ì„œ ì°¨ëŸ‰/ì§€ì…/íˆ¬ììë¥¼ ë¹ ë¥´ê²Œ ì„ íƒí•©ë‹ˆë‹¤.</p>
  <div class="pros-cons">
    <div class="pro">í™”ë©´ ë ˆì´ì•„ì›ƒ ë³€ê²½ ì—†ìŒ<br>ë¹ ë¥´ê²Œ ì—°ê²° ê°€ëŠ¥ (2í´ë¦­)<br>ì—°ê²°ëœ í•­ëª©ì€ ë±ƒì§€ë¡œ ì¦‰ì‹œ í‘œì‹œ</div>
    <div class="con">íŒì˜¤ë²„ê°€ ì‘ì•„ì„œ ì •ë³´ê°€ ì œí•œì <br>í•œ ê±´ì”© ì²˜ë¦¬<br>ì°¨ëŸ‰ì´ ë§ìœ¼ë©´ ìŠ¤í¬ë¡¤ í•„ìš”</div>
  </div>
  <div class="demo-area">
    <div class="demo-header">
      <div class="demo-dot" style="background:#ef4444"></div>
      <div class="demo-dot" style="background:#fbbf24"></div>
      <div class="demo-dot" style="background:#22c55e"></div>
      <span>ğŸ”— ë²„íŠ¼ì„ í´ë¦­í•´ ë³´ì„¸ìš”</span>
    </div>
    <div style="overflow-y:auto;max-height:450px">
      <!-- Row 1 - with popover demo -->
      <div class="tx-row">
        <input type="checkbox" class="tx-check">
        <span class="tx-date">2025-10-31</span>
        <span class="tx-badge out">ì¶œê¸ˆ</span>
        <span class="tx-badge card">ì¹´ë“œ</span>
        <span class="tx-name">ìš°ë¦¬ìœ í†µ ì—¬ì‹ (ì‚¼)ì¶©ì „ì†Œ</span>
        <span class="tx-desc">ì¼ì‹œë¶ˆ</span>
        <span class="tx-amount">-52,637</span>
        <div class="popover-wrap">
          <div class="link-btn" onclick="togglePopover('pop1')">ğŸ”—</div>
          <div id="pop1" class="popover">
            <input class="popover-search" placeholder="ğŸ” ì°¨ëŸ‰ë²ˆí˜¸, ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰...">
            <div class="popover-tabs">
              <button class="popover-tab active" onclick="switchPopTab(this,'pop1','car')">ğŸš— ì°¨ëŸ‰</button>
              <button class="popover-tab" onclick="switchPopTab(this,'pop1','jiip')">ğŸš› ì§€ì…</button>
              <button class="popover-tab" onclick="switchPopTab(this,'pop1','invest')">ğŸ’° íˆ¬ì</button>
              <button class="popover-tab" onclick="switchPopTab(this,'pop1','loan')">ğŸ¦ ëŒ€ì¶œ</button>
            </div>
            <div class="popover-list" id="pop1-car">
              <div class="popover-item" onclick="linkPop(this,'ğŸš—','ì„œìš¸12ê°€3456')"><span class="icon">ğŸš—</span><div><div class="name">ì„œìš¸12ê°€3456</div><div class="sub">í˜„ëŒ€ í¬í„°2 Â· ê¹€ì¤€ìˆ˜ ë°°ì •</div></div></div>
              <div class="popover-item" onclick="linkPop(this,'ğŸš—','ê²½ê¸°34ë‚˜5678')"><span class="icon">ğŸš—</span><div><div class="name">ê²½ê¸°34ë‚˜5678</div><div class="sub">ê¸°ì•„ ë´‰ê³ 3 Â· ë°•ì˜í¬ ë°°ì •</div></div></div>
              <div class="popover-item" onclick="linkPop(this,'ğŸš—','ì¸ì²œ56ë‹¤7890')"><span class="icon">ğŸš—</span><div><div class="name">ì¸ì²œ56ë‹¤7890</div><div class="sub">í˜„ëŒ€ ë§ˆì´í‹° Â· ê³µìš©</div></div></div>
            </div>
            <div class="popover-list" id="pop1-jiip" style="display:none">
              <div class="popover-item" onclick="linkPop(this,'ğŸš›','ê¹€ì¤€ìˆ˜(ì§€ì…)')"><span class="icon">ğŸš›</span><div><div class="name">ê¹€ì¤€ìˆ˜</div><div class="sub">ì„œìš¸12ê°€3456 Â· ê´€ë¦¬ë¹„ 30ë§Œì›</div></div></div>
              <div class="popover-item" onclick="linkPop(this,'ğŸš›','ë°•ì˜í¬(ì§€ì…)')"><span class="icon">ğŸš›</span><div><div class="name">ë°•ì˜í¬</div><div class="sub">ê²½ê¸°34ë‚˜5678 Â· ê´€ë¦¬ë¹„ 25ë§Œì›</div></div></div>
            </div>
            <div class="popover-list" id="pop1-invest" style="display:none">
              <div class="popover-item" onclick="linkPop(this,'ğŸ’°','ì´ì² ìˆ˜(íˆ¬ì)')"><span class="icon">ğŸ’°</span><div><div class="name">ì´ì² ìˆ˜</div><div class="sub">íˆ¬ìê¸ˆ 5,000ë§Œì› Â· ì´ìœ¨ 8%</div></div></div>
              <div class="popover-item" onclick="linkPop(this,'ğŸ’°','ì •ë¯¸ì˜(íˆ¬ì)')"><span class="icon">ğŸ’°</span><div><div class="name">ì •ë¯¸ì˜</div><div class="sub">íˆ¬ìê¸ˆ 3,000ë§Œì› Â· ì´ìœ¨ 7%</div></div></div>
            </div>
            <div class="popover-list" id="pop1-loan" style="display:none">
              <div class="popover-item" onclick="linkPop(this,'ğŸ¦','KBìºí”¼íƒˆ')"><span class="icon">ğŸ¦</span><div><div class="name">KBìºí”¼íƒˆ</div><div class="sub">ì›” 120ë§Œì› Â· ì”ì—¬ 24ê°œì›”</div></div></div>
            </div>
          </div>
        </div>
      </div>
      <!-- Row 2 - already linked -->
      <div class="tx-row">
        <input type="checkbox" class="tx-check">
        <span class="tx-date">2025-10-30</span>
        <span class="tx-badge out">ì¶œê¸ˆ</span>
        <span class="tx-badge card">ì¹´ë“œ</span>
        <span class="tx-name">ì£¼ì‹íšŒì‚¬ë¯¸ì„±ì—ë„ˆì§€</span>
        <span class="tx-desc">ì¼ì‹œë¶ˆ</span>
        <span class="link-badge car">ğŸš— ì„œìš¸12ê°€3456</span>
        <span class="tx-amount">-37,675</span>
        <div class="link-btn" onclick="alert('ì—°ê²° ë³€ê²½ íŒì˜¤ë²„')">ğŸ”—</div>
      </div>
      <!-- Row 3 -->
      <div class="tx-row">
        <input type="checkbox" class="tx-check">
        <span class="tx-date">2025-10-29</span>
        <span class="tx-badge out">ì¶œê¸ˆ</span>
        <span class="tx-badge card">ì¹´ë“œ</span>
        <span class="tx-name">ëŒ€ëª…LPGì¶©ì „ì†Œ</span>
        <span class="tx-desc">ì¼ì‹œë¶ˆ</span>
        <span class="link-badge empty">ì—°ê²° ì—†ìŒ</span>
        <span class="tx-amount">-61,665</span>
        <div class="link-btn">ğŸ”—</div>
      </div>
      <!-- Row 4 - investment linked -->
      <div class="tx-row">
        <input type="checkbox" class="tx-check">
        <span class="tx-date">2025-10-28</span>
        <span class="tx-badge in">ì…ê¸ˆ</span>
        <span class="tx-badge card">ì´ì²´</span>
        <span class="tx-name">ê¹€ì¤€ìˆ˜</span>
        <span class="tx-desc">íˆ¬ìì›ê¸ˆ ì…ê¸ˆ</span>
        <span class="link-badge invest">ğŸ’° ì´ì² ìˆ˜ (5,000ë§Œ)</span>
        <span class="tx-amount income">+5,000,000</span>
        <div class="link-btn">ğŸ”—</div>
      </div>
      <!-- Row 5 - jiip linked -->
      <div class="tx-row">
        <input type="checkbox" class="tx-check">
        <span class="tx-date">2025-10-20</span>
        <span class="tx-badge out">ì¶œê¸ˆ</span>
        <span class="tx-badge card">ì´ì²´</span>
        <span class="tx-name">ë°•ì˜í¬</span>
        <span class="tx-desc">ì§€ì… ìˆ˜ìµë°°ë¶„ê¸ˆ</span>
        <span class="link-badge jiip">ğŸš› ë°•ì˜í¬ (ê²½ê¸°34ë‚˜)</span>
        <span class="tx-amount">-2,300,000</span>
        <div class="link-btn">ğŸ”—</div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Option 3: Batch Link Modal â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="tab3" class="tab-content">
  <h2 class="option-title">ë°©ì‹ 3: ì¼ê´„ ì—°ê²° + AI ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ</h2>
  <p class="option-desc">ì—¬ëŸ¬ ê±´ì„ ì²´í¬ í›„ "ì¼ê´„ ì—°ê²°" ë²„íŠ¼ â†’ ëª¨ë‹¬ì—ì„œ ì—°ê²° ëŒ€ìƒì„ ì„ íƒí•©ë‹ˆë‹¤. AIê°€ ì¹´ë“œ ë°°ì •Â·ê±°ë˜ì²˜ëª…ìœ¼ë¡œ ìë™ ì¶”ì²œí•©ë‹ˆë‹¤.</p>
  <div class="pros-cons">
    <div class="pro">ëŒ€ëŸ‰ ê±´ì„ í•œë²ˆì— ì²˜ë¦¬<br>AI ì¶”ì²œìœ¼ë¡œ ì‘ì—… ì‹œê°„ ë‹¨ì¶•<br>ëª¨ë‹¬ì—ì„œ ë„“ì€ ì¹´ë“œ ë¯¸ë¦¬ë³´ê¸°</div>
    <div class="con">ê°œë³„ ê±´ ìˆ˜ì •ì´ ë¶ˆí¸<br>ëª¨ë‹¬ì´ ë– ìˆëŠ” ë™ì•ˆ ëª©ë¡ í™•ì¸ ë¶ˆê°€<br>AI ì¶”ì²œì´ í‹€ë¦´ ìˆ˜ ìˆìŒ</div>
  </div>
  <div class="demo-area">
    <div class="demo-header">
      <div class="demo-dot" style="background:#ef4444"></div>
      <div class="demo-dot" style="background:#fbbf24"></div>
      <div class="demo-dot" style="background:#22c55e"></div>
      <span>ì²´í¬ë°•ìŠ¤ë¥¼ ì„ íƒ í›„ í•˜ë‹¨ "ì¼ê´„ ì—°ê²°" í´ë¦­</span>
    </div>
    <div style="max-height:380px;overflow-y:auto">
      <div class="tx-row" onclick="toggleCheck3(this)">
        <input type="checkbox" class="tx-check" checked><span class="tx-date">2025-10-31</span><span class="tx-badge out">ì¶œê¸ˆ</span><span class="tx-badge card">ì¹´ë“œ</span><span class="tx-name">ìš°ë¦¬ìœ í†µ ì—¬ì‹ (ì‚¼)ì¶©ì „ì†Œ</span><span class="tx-amount">-52,637</span>
      </div>
      <div class="tx-row selected" onclick="toggleCheck3(this)">
        <input type="checkbox" class="tx-check" checked><span class="tx-date">2025-10-30</span><span class="tx-badge out">ì¶œê¸ˆ</span><span class="tx-badge card">ì¹´ë“œ</span><span class="tx-name">ì£¼ì‹íšŒì‚¬ë¯¸ì„±ì—ë„ˆì§€</span><span class="tx-amount">-37,675</span>
      </div>
      <div class="tx-row selected" onclick="toggleCheck3(this)">
        <input type="checkbox" class="tx-check" checked><span class="tx-date">2025-10-29</span><span class="tx-badge out">ì¶œê¸ˆ</span><span class="tx-badge card">ì¹´ë“œ</span><span class="tx-name">ëŒ€ëª…LPGì¶©ì „ì†Œ</span><span class="tx-amount">-61,665</span>
      </div>
      <div class="tx-row" onclick="toggleCheck3(this)">
        <input type="checkbox" class="tx-check"><span class="tx-date">2025-10-28</span><span class="tx-badge in">ì…ê¸ˆ</span><span class="tx-badge card">ì´ì²´</span><span class="tx-name">ê¹€ì¤€ìˆ˜</span><span class="tx-amount income">+5,000,000</span>
      </div>
      <div class="tx-row" onclick="toggleCheck3(this)">
        <input type="checkbox" class="tx-check"><span class="tx-date">2025-10-25</span><span class="tx-badge out">ì¶œê¸ˆ</span><span class="tx-badge card">ì´ì²´</span><span class="tx-name">DBì†í•´ë³´í—˜</span><span class="tx-amount">-890,000</span>
      </div>
    </div>
    <div class="floating-bar">
      <span class="count">3ê±´ ì„ íƒ</span>
      <div class="sep"></div>
      <button class="btn-link" onclick="document.getElementById('modal3').classList.add('open')">ğŸ”— ì¼ê´„ ì—°ê²°</button>
      <button class="btn-confirm">âœ… ì¼ê´„ í™•ì •</button>
      <button class="btn-close">âœ•</button>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal3" class="modal-overlay" onclick="if(event.target===this)this.classList.remove('open')">
    <div class="modal-box">
      <div class="modal-header">
        <h3>ğŸ”— 3ê±´ ì¼ê´„ ì—°ê²°</h3>
        <p>ì„ íƒí•œ ê±°ë˜ë¥¼ ì•„ë˜ ëŒ€ìƒì— ì—°ê²°í•©ë‹ˆë‹¤</p>
      </div>
      <div class="modal-body">
        <div class="ai-suggest">
          <div class="title">ğŸ’¡ AI ì¶”ì²œ</div>
          <div class="item"><span>ğŸš—</span> ì¹´ë“œ ****4331 (ê¹€ì¤€ìˆ˜) â†’ <strong>ì„œìš¸12ê°€3456</strong> ìë™ ë§¤ì¹­</div>
          <div class="item"><span>â›½</span> ìœ ë¥˜ë¹„ 3ê±´ â†’ ì¹´ë“œ ë°°ì • ì°¨ëŸ‰ì— ìë™ ì—°ê²° ê°€ëŠ¥</div>
        </div>
        <div class="batch-type-tabs">
          <div class="batch-type-tab active" onclick="switchBatchTab(this)">ğŸš— ì°¨ëŸ‰</div>
          <div class="batch-type-tab" onclick="switchBatchTab(this)">ğŸš› ì§€ì… ì°¨ì£¼</div>
          <div class="batch-type-tab" onclick="switchBatchTab(this)">ğŸ’° íˆ¬ìì</div>
          <div class="batch-type-tab" onclick="switchBatchTab(this)">ğŸ¦ ëŒ€ì¶œ</div>
          <div class="batch-type-tab" onclick="switchBatchTab(this)">ğŸ›¡ï¸ ë³´í—˜</div>
        </div>
        <div class="batch-card-grid">
          <div class="batch-card selected" onclick="selectBatchCard(this)">
            <div class="icon">ğŸš—</div>
            <div class="name">ì„œìš¸12ê°€3456</div>
            <div class="sub">í˜„ëŒ€ í¬í„°2 Â· ê¹€ì¤€ìˆ˜</div>
          </div>
          <div class="batch-card" onclick="selectBatchCard(this)">
            <div class="icon">ğŸš—</div>
            <div class="name">ê²½ê¸°34ë‚˜5678</div>
            <div class="sub">ê¸°ì•„ ë´‰ê³ 3 Â· ë°•ì˜í¬</div>
          </div>
          <div class="batch-card" onclick="selectBatchCard(this)">
            <div class="icon">ğŸš—</div>
            <div class="name">ì¸ì²œ56ë‹¤7890</div>
            <div class="sub">í˜„ëŒ€ ë§ˆì´í‹° Â· ê³µìš©</div>
          </div>
          <div class="batch-card" onclick="selectBatchCard(this)">
            <div class="icon">ğŸš—</div>
            <div class="name">ë¶€ì‚°78ë¼1234</div>
            <div class="sub">í˜„ëŒ€ ìŠ¤íƒ€ë ‰ìŠ¤ Â· ì´ì² ìˆ˜</div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="cancel" onclick="document.getElementById('modal3').classList.remove('open')">ì·¨ì†Œ</button>
        <button class="confirm" onclick="document.getElementById('modal3').classList.remove('open');alert('âœ… 3ê±´ì´ ì„œìš¸12ê°€3456ì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤')">ì—°ê²° í™•ì •</button>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Option 4: Combined (2+3) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="tab4" class="tab-content">
  <h2 class="option-title">ë°©ì‹ 4: ì¸ë¼ì¸ + ì¼ê´„ ì¡°í•© (ì¶”ì²œ)</h2>
  <p class="option-desc">ê°œë³„ ê±´ì€ ğŸ”— íŒì˜¤ë²„ë¡œ ë¹ ë¥´ê²Œ, ì—¬ëŸ¬ ê±´ì€ ì²´í¬ í›„ ì¼ê´„ ì—°ê²° ëª¨ë‹¬ë¡œ í•œë²ˆì— ì²˜ë¦¬. ë‘ ê°€ì§€ ì¥ì ì„ ê²°í•©í•©ë‹ˆë‹¤.</p>
  <div class="pros-cons">
    <div class="pro">ê°œë³„/ëŒ€ëŸ‰ ëª¨ë‘ í¸ë¦¬í•˜ê²Œ ì²˜ë¦¬<br>ì—°ê²° ìƒíƒœê°€ ë±ƒì§€ë¡œ ì¦‰ì‹œ ë³´ì„<br>AI ì¶”ì²œ + ì¹´ë“œ ë°°ì • ìë™ ë§¤ì¹­<br>ê°€ì¥ ìœ ì—°í•œ ì›Œí¬í”Œë¡œìš°</div>
    <div class="con">êµ¬í˜„ ë³µì¡ë„ê°€ ë†’ìŒ (ê°œë°œ ì‹œê°„)<br>UI ìš”ì†Œê°€ ë§ì•„ ì´ˆê¸° í•™ìŠµ í•„ìš”</div>
  </div>
  <div class="demo-area">
    <div class="demo-header">
      <div class="demo-dot" style="background:#ef4444"></div>
      <div class="demo-dot" style="background:#fbbf24"></div>
      <div class="demo-dot" style="background:#22c55e"></div>
      <span>ê°œë³„: ğŸ”— í´ë¦­ / ì¼ê´„: ì²´í¬ í›„ í•˜ë‹¨ ë°” ì‚¬ìš©</span>
    </div>
    <div style="max-height:370px;overflow-y:auto">
      <!-- Row with popover -->
      <div class="tx-row" id="t4r1">
        <input type="checkbox" class="tx-check" onchange="updateBar4()">
        <span class="tx-date">2025-10-31</span>
        <span class="tx-badge out">ì¶œê¸ˆ</span>
        <span class="tx-badge card">ì¹´ë“œ</span>
        <span class="tx-name">ìš°ë¦¬ìœ í†µ ì—¬ì‹ (ì‚¼)ì¶©ì „ì†Œ</span>
        <span class="link-badge empty" onclick="event.stopPropagation()">ì—°ê²° ì—†ìŒ</span>
        <span class="tx-amount">-52,637</span>
        <div class="popover-wrap" onclick="event.stopPropagation()">
          <div class="link-btn" onclick="togglePopover('pop4')">ğŸ”—</div>
          <div id="pop4" class="popover">
            <input class="popover-search" placeholder="ğŸ” ì°¨ëŸ‰ë²ˆí˜¸, ì´ë¦„ ê²€ìƒ‰...">
            <div class="popover-tabs">
              <button class="popover-tab active">ğŸš— ì°¨ëŸ‰</button>
              <button class="popover-tab">ğŸš› ì§€ì…</button>
              <button class="popover-tab">ğŸ’° íˆ¬ì</button>
            </div>
            <div class="popover-list">
              <div class="popover-item" onclick="link4(this,'car','ì„œìš¸12ê°€3456')"><span class="icon">ğŸš—</span><div><div class="name">ì„œìš¸12ê°€3456</div><div class="sub">í˜„ëŒ€ í¬í„°2 Â· ê¹€ì¤€ìˆ˜</div></div></div>
              <div class="popover-item" onclick="link4(this,'car','ê²½ê¸°34ë‚˜5678')"><span class="icon">ğŸš—</span><div><div class="name">ê²½ê¸°34ë‚˜5678</div><div class="sub">ê¸°ì•„ ë´‰ê³ 3 Â· ë°•ì˜í¬</div></div></div>
              <div class="popover-item" onclick="link4(this,'car','ì¸ì²œ56ë‹¤7890')"><span class="icon">ğŸš—</span><div><div class="name">ì¸ì²œ56ë‹¤7890</div><div class="sub">í˜„ëŒ€ ë§ˆì´í‹° Â· ê³µìš©</div></div></div>
            </div>
          </div>
        </div>
      </div>
      <!-- Already linked -->
      <div class="tx-row">
        <input type="checkbox" class="tx-check" onchange="updateBar4()">
        <span class="tx-date">2025-10-30</span>
        <span class="tx-badge out">ì¶œê¸ˆ</span>
        <span class="tx-badge card">ì¹´ë“œ</span>
        <span class="tx-name">ì£¼ì‹íšŒì‚¬ë¯¸ì„±ì—ë„ˆì§€</span>
        <span class="link-badge car">ğŸš— ì„œìš¸12ê°€3456</span>
        <span class="tx-amount">-37,675</span>
        <div class="link-btn">ğŸ”—</div>
      </div>
      <div class="tx-row">
        <input type="checkbox" class="tx-check" onchange="updateBar4()">
        <span class="tx-date">2025-10-29</span>
        <span class="tx-badge out">ì¶œê¸ˆ</span>
        <span class="tx-badge card">ì¹´ë“œ</span>
        <span class="tx-name">ëŒ€ëª…LPGì¶©ì „ì†Œ</span>
        <span class="link-badge empty">ì—°ê²° ì—†ìŒ</span>
        <span class="tx-amount">-61,665</span>
        <div class="link-btn">ğŸ”—</div>
      </div>
      <div class="tx-row">
        <input type="checkbox" class="tx-check" onchange="updateBar4()">
        <span class="tx-date">2025-10-28</span>
        <span class="tx-badge in">ì…ê¸ˆ</span>
        <span class="tx-badge card">ì´ì²´</span>
        <span class="tx-name">ê¹€ì¤€ìˆ˜</span>
        <span class="link-badge invest">ğŸ’° ì´ì² ìˆ˜ (5,000ë§Œ)</span>
        <span class="tx-amount income">+5,000,000</span>
        <div class="link-btn">ğŸ”—</div>
      </div>
      <div class="tx-row">
        <input type="checkbox" class="tx-check" onchange="updateBar4()">
        <span class="tx-date">2025-10-20</span>
        <span class="tx-badge out">ì¶œê¸ˆ</span>
        <span class="tx-badge card">ì´ì²´</span>
        <span class="tx-name">ë°•ì˜í¬</span>
        <span class="link-badge jiip">ğŸš› ë°•ì˜í¬ (ê²½ê¸°34ë‚˜)</span>
        <span class="tx-amount">-2,300,000</span>
        <div class="link-btn">ğŸ”—</div>
      </div>
    </div>
    <div id="bar4" class="floating-bar" style="display:none">
      <span class="count" id="bar4-count">0ê±´ ì„ íƒ</span>
      <div class="sep"></div>
      <button class="btn-link" onclick="alert('ì¼ê´„ ì—°ê²° ëª¨ë‹¬ì´ ì—´ë¦½ë‹ˆë‹¤')">ğŸ”— ì¼ê´„ ì—°ê²°</button>
      <button class="btn-confirm">âœ… ì¼ê´„ í™•ì •</button>
      <button class="btn-close" onclick="uncheckAll4()">âœ•</button>
    </div>
  </div>
</div>

<script>
// â”€â”€ Tab switching â”€â”€
function showTab(n) {
  document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
  document.getElementById('tab' + n).classList.add('active');
  document.querySelectorAll('.tab-btn')[n - 1].classList.add('active');
}

// â”€â”€ Option 1: Panel â”€â”€
const txData = [
  { date: '2025-10-31', name: 'ìš°ë¦¬ìœ í†µ ì—¬ì‹ (ì‚¼)ì¶©ì „ì†Œ', amount: '-52,637', type: 'ì¶œê¸ˆ', cat: 'ìœ ë¥˜ë¹„' },
  { date: '2025-10-30', name: 'ì£¼ì‹íšŒì‚¬ë¯¸ì„±ì—ë„ˆì§€', amount: '-37,675', type: 'ì¶œê¸ˆ', cat: 'ìœ ë¥˜ë¹„' },
  { date: '2025-10-29', name: 'ëŒ€ëª…LPGì¶©ì „ì†Œ', amount: '-61,665', type: 'ì¶œê¸ˆ', cat: 'ìœ ë¥˜ë¹„' },
  { date: '2025-10-28', name: 'ê¹€ì¤€ìˆ˜', amount: '+5,000,000', type: 'ì…ê¸ˆ', cat: 'íˆ¬ìì›ê¸ˆ ì…ê¸ˆ' },
  { date: '2025-10-25', name: 'DBì†í•´ë³´í—˜', amount: '-890,000', type: 'ì¶œê¸ˆ', cat: 'ì°¨ëŸ‰ë³´í—˜ë£Œ' },
  { date: '2025-10-20', name: 'ë°•ì˜í¬', amount: '-2,300,000', type: 'ì¶œê¸ˆ', cat: 'ì§€ì… ìˆ˜ìµë°°ë¶„ê¸ˆ' },
];

function openPanel(row, idx) {
  document.querySelectorAll('#tab1 .tx-row').forEach(r => r.classList.remove('selected'));
  row.classList.add('selected');
  document.getElementById('panel1').classList.add('open');
  const d = txData[idx];
  document.getElementById('panel1-content').innerHTML = `
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
      <span style="font-weight:900;font-size:14px">ğŸ”— ì—°ê²° ëŒ€ìƒ</span>
      <button onclick="document.getElementById('panel1').classList.remove('open');document.querySelectorAll('#tab1 .tx-row').forEach(r=>r.classList.remove('selected'))" style="background:none;border:none;font-size:18px;cursor:pointer;color:#94a3b8">âœ•</button>
    </div>
    <div class="panel-tx-detail">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
        <div><div class="label">ë‚ ì§œ</div><div class="value">${d.date}</div></div>
        <div><div class="label">êµ¬ë¶„</div><div class="value">${d.type}</div></div>
        <div><div class="label">ê±°ë˜ì²˜</div><div class="value">${d.name}</div></div>
        <div><div class="label">ê¸ˆì•¡</div><div class="value" style="color:${d.type==='ì…ê¸ˆ'?'#3b82f6':'#ef4444'}">${d.amount}ì›</div></div>
      </div>
      <div style="margin-top:8px"><div class="label">ë¶„ë¥˜</div><div class="value">${d.cat}</div></div>
    </div>

    <div class="panel-section-title">ğŸš— ì°¨ëŸ‰</div>
    <div class="panel-card" onclick="selectPanelCard(this)">
      <div class="panel-card-row"><span class="panel-card-icon">ğŸš—</span><div><div class="panel-card-name">ì„œìš¸12ê°€3456</div><div class="panel-card-sub">í˜„ëŒ€ í¬í„°2 Â· ê¹€ì¤€ìˆ˜ ë°°ì •</div></div><span class="panel-card-check">âœ“</span></div>
    </div>
    <div class="panel-card" onclick="selectPanelCard(this)">
      <div class="panel-card-row"><span class="panel-card-icon">ğŸš—</span><div><div class="panel-card-name">ê²½ê¸°34ë‚˜5678</div><div class="panel-card-sub">ê¸°ì•„ ë´‰ê³ 3 Â· ë°•ì˜í¬ ë°°ì •</div></div><span class="panel-card-check">âœ“</span></div>
    </div>
    <div class="panel-card" onclick="selectPanelCard(this)">
      <div class="panel-card-row"><span class="panel-card-icon">ğŸš—</span><div><div class="panel-card-name">ì¸ì²œ56ë‹¤7890</div><div class="panel-card-sub">í˜„ëŒ€ ë§ˆì´í‹° Â· ê³µìš©</div></div><span class="panel-card-check">âœ“</span></div>
    </div>

    <div class="panel-section-title">ğŸš› ì§€ì… ì°¨ì£¼</div>
    <div class="panel-card" onclick="selectPanelCard(this)">
      <div class="panel-card-row"><span class="panel-card-icon">ğŸš›</span><div><div class="panel-card-name">ê¹€ì¤€ìˆ˜</div><div class="panel-card-sub">ì„œìš¸12ê°€3456 Â· ê´€ë¦¬ë¹„ 30ë§Œì›/ì›”</div></div><span class="panel-card-check">âœ“</span></div>
    </div>
    <div class="panel-card" onclick="selectPanelCard(this)">
      <div class="panel-card-row"><span class="panel-card-icon">ğŸš›</span><div><div class="panel-card-name">ë°•ì˜í¬</div><div class="panel-card-sub">ê²½ê¸°34ë‚˜5678 Â· ê´€ë¦¬ë¹„ 25ë§Œì›/ì›”</div></div><span class="panel-card-check">âœ“</span></div>
    </div>

    <div class="panel-section-title">ğŸ’° íˆ¬ìì</div>
    <div class="panel-card" onclick="selectPanelCard(this)">
      <div class="panel-card-row"><span class="panel-card-icon">ğŸ’°</span><div><div class="panel-card-name">ì´ì² ìˆ˜</div><div class="panel-card-sub">íˆ¬ìê¸ˆ 5,000ë§Œì› Â· ì´ìœ¨ 8%</div></div><span class="panel-card-check">âœ“</span></div>
    </div>
    <div class="panel-card" onclick="selectPanelCard(this)">
      <div class="panel-card-row"><span class="panel-card-icon">ğŸ’°</span><div><div class="panel-card-name">ì •ë¯¸ì˜</div><div class="panel-card-sub">íˆ¬ìê¸ˆ 3,000ë§Œì› Â· ì´ìœ¨ 7%</div></div><span class="panel-card-check">âœ“</span></div>
    </div>

    <div class="panel-section-title">ğŸ¦ ëŒ€ì¶œ</div>
    <div class="panel-card" onclick="selectPanelCard(this)">
      <div class="panel-card-row"><span class="panel-card-icon">ğŸ¦</span><div><div class="panel-card-name">KBìºí”¼íƒˆ</div><div class="panel-card-sub">ì›” 120ë§Œì› Â· ì”ì—¬ 24ê°œì›”</div></div><span class="panel-card-check">âœ“</span></div>
    </div>
  `;
}

function selectPanelCard(card) {
  const parent = card.parentElement;
  parent.querySelectorAll('.panel-card').forEach(c => c.classList.remove('connected'));
  card.classList.add('connected');
}

// â”€â”€ Option 2: Popover â”€â”€
function togglePopover(id) {
  const pop = document.getElementById(id);
  const isOpen = pop.classList.contains('open');
  document.querySelectorAll('.popover').forEach(p => p.classList.remove('open'));
  if (!isOpen) pop.classList.add('open');
}

function switchPopTab(btn, popId, tab) {
  const pop = document.getElementById(popId);
  pop.querySelectorAll('.popover-tab').forEach(t => t.classList.remove('active'));
  btn.classList.add('active');
  pop.querySelectorAll('.popover-list').forEach(l => l.style.display = 'none');
  document.getElementById(popId + '-' + tab).style.display = 'block';
}

function linkPop(item, icon, name) {
  const row = item.closest('.tx-row');
  const existingBadge = row.querySelector('.link-badge');
  if (existingBadge) existingBadge.remove();
  const badge = document.createElement('span');
  badge.className = 'link-badge car';
  badge.textContent = icon + ' ' + name;
  const amount = row.querySelector('.tx-amount');
  row.insertBefore(badge, amount);
  document.querySelectorAll('.popover').forEach(p => p.classList.remove('open'));
}

// Close popover on outside click
document.addEventListener('click', (e) => {
  if (!e.target.closest('.popover-wrap')) {
    document.querySelectorAll('.popover').forEach(p => p.classList.remove('open'));
  }
});

// â”€â”€ Option 3: Batch â”€â”€
function toggleCheck3(row) {
  const cb = row.querySelector('.tx-check');
  cb.checked = !cb.checked;
  row.classList.toggle('selected', cb.checked);
}

function selectBatchCard(card) {
  card.parentElement.querySelectorAll('.batch-card').forEach(c => c.classList.remove('selected'));
  card.classList.add('selected');
}

function switchBatchTab(btn) {
  btn.parentElement.querySelectorAll('.batch-type-tab').forEach(t => t.classList.remove('active'));
  btn.classList.add('active');
}

// â”€â”€ Option 4: Combined â”€â”€
function updateBar4() {
  const checks = document.querySelectorAll('#tab4 .tx-check:checked');
  const bar = document.getElementById('bar4');
  const count = document.getElementById('bar4-count');
  if (checks.length > 0) {
    bar.style.display = 'flex';
    count.textContent = checks.length + 'ê±´ ì„ íƒ';
  } else {
    bar.style.display = 'none';
  }
}

function uncheckAll4() {
  document.querySelectorAll('#tab4 .tx-check').forEach(c => c.checked = false);
  updateBar4();
}

function link4(item, type, name) {
  const row = document.getElementById('t4r1');
  const badge = row.querySelector('.link-badge');
  if (badge) {
    badge.className = 'link-badge car';
    badge.textContent = 'ğŸš— ' + name;
  }
  document.querySelectorAll('.popover').forEach(p => p.classList.remove('open'));
}
</script>
</body>
</html>
